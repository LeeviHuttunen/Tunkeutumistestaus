# Fuzzy

## x) Lue/katso/kuuntele ja tiivistä. Karvinen 2023: Find Hidden Web Directories - Fuzz URLs with ffuf
- Fuzzauksessa ei tarvitse arvailla manuaalisesti eri polkuja, jota kautta pääsee murtautumaan kohteeseen.




## a)  Fuzzzz. Ratkaise dirfuz-1 artikkelista Karvinen 2023: Find Hidden Web Directories - Fuzz URLs with ffuf.
- Ensiksi avasin virtuaalikoneen ja asensin harjoitusmaalin komennolla alla olevien ohjeiden mukaan:

<img width="767" height="253" alt="image" src="https://github.com/user-attachments/assets/1a6fa8bc-0d89-43b9-a377-1f1093b39bc9" />

Jonka jälkeen avasin sivun firefoxissa ja siellä se näkyi:

<img width="467" height="184" alt="image" src="https://github.com/user-attachments/assets/f7e38869-5351-40a1-843d-ee8328267b43" />

Seuraaavaksi asensin fuffin komennolla `sudo apt-get install ffuf`

Sitten latasin vielä sanakirjaston samalta tehtävä sivulta `wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/common.txt`

Sitten otin Kali-virtuaalikoneen irti internetistä ja aloin testaamaan Fuffia.

- Ensimmäisen haun tulos:

<img width="651" height="456" alt="image" src="https://github.com/user-attachments/assets/e9d0dd9b-b29c-4dc2-af43-75f9d781d8e8" />

Tuloksena error. Pitää avata toinen terminal ikkuna. Toisessa auki dirfuzt-0:

<img width="280" height="84" alt="image" src="https://github.com/user-attachments/assets/011df8fb-39dc-4cff-97dc-48a3ed4dbbfe" />

Ja toisessa ikkunassa sitten fuzzataan. Tämän tehtyäni sain heti tuloksia:

<img width="637" height="578" alt="image" src="https://github.com/user-attachments/assets/8c132694-1c8c-4955-9e9e-e3710396de49" />

Sitten seuraavaksi ohjeissa pyydettiin suodattamaan 132 bittiset tulokset pois. Komennolla `ffuf -w common.txt -u http://127.0.0.2:8000/FUZZ -fs 132`

<img width="751" height="455" alt="image" src="https://github.com/user-attachments/assets/84e02d4c-8b0a-45c4-bfcc-da1e3fedbdfd" />

Joten. Kokeilen sitten laittaa harjoitusmaalin perään /admin ja katson mitä tapahtuu:

<img width="564" height="202" alt="image" src="https://github.com/user-attachments/assets/71e6d9c6-33cc-4f7a-a9d8-b03159cb99cf" />

- Joten sitten ensimmäisen harjoituksen pariin:

- Latasin dirfutz-1 tehtävän, muokkasin käyttäjäoikeuksia:

<img width="281" height="140" alt="image" src="https://github.com/user-attachments/assets/3b32c46a-2214-4047-b7a2-e7af5ee698dc" />

Jonka jälkeen harjoitussivu avautui:

<img width="650" height="159" alt="image" src="https://github.com/user-attachments/assets/681dbb63-043d-40c1-86ba-656c48b9e728" />

Sitten taas fuzzamaan. 

<img width="615" height="490" alt="image" src="https://github.com/user-attachments/assets/242865ff-4183-4b6d-89aa-0d10ed8fd585" />

- Todella monen koko oli 154. Joten äskeisen mallin mukaan suodatan ne 154 pois ja katson mitä tulee:

<img width="744" height="485" alt="image" src="https://github.com/user-attachments/assets/6ac991b6-54f4-4b5f-8b49-ba0f4a274df0" />

Tuloksia paljon vähemmän. Kokeilen laittaa perään siis wp-admin ja .git:

<img width="621" height="206" alt="image" src="https://github.com/user-attachments/assets/e5293f2f-8eeb-47b0-8de3-7573cbf5a9d7" />

<img width="495" height="215" alt="image" src="https://github.com/user-attachments/assets/6975a8ce-17bc-46d0-bfd6-d1add88a30c3" />

Molemmilla löytyi ratkaisu.

## b)  Fuff me. Asenna FuffMe-harjoitusmaali. Karvinen 2023: Fuffme - Install Web Fuzzing Target on Debian
Aloin lataamaan gittiä ja dockereita ohjeiden mukaisesti:

<img width="357" height="47" alt="image" src="https://github.com/user-attachments/assets/1db3dfab-25e4-490c-9ff7-e7b497b89aaf" />

<img width="436" height="55" alt="image" src="https://github.com/user-attachments/assets/4ed68e32-904d-4071-81ca-c43c346a8158" />

<img width="308" height="122" alt="image" src="https://github.com/user-attachments/assets/4ecc436f-9014-479c-a1f8-65dd163c71e4" />

Sitten kokeilin käynnistää harjoitusmaalin sivun:

<img width="884" height="424" alt="image" src="https://github.com/user-attachments/assets/a47a832f-9117-4806-81c1-a76521cec571" />

Ja siellä se näkyi:

<img width="770" height="665" alt="image" src="https://github.com/user-attachments/assets/0a79ca2a-93eb-4d68-bdd9-3e3c44631a9d" />

Sitten latasin vielä kyseiset wordlistit:

<img width="540" height="236" alt="image" src="https://github.com/user-attachments/assets/8e8ae2a6-ed90-4338-a092-fdd4a094e2ca" />

## Ratkaise ffufme harjoitukset - kaikki paitsi ei "Content Discovery - Pipes".
c) Basic Content Discovery

Päätin tehdä nämä tehtävät curlilla, niin ei tarvi hyppiä koko ajan terminaalin ja selaimen välillä.

Ensiksi otin virtuaalikoneen irti netistä, koska sitä ei tarvita näissä tehtävissä.

- Tavoitteena on löytää `class` ja `development.log` tiedostot

<img width="768" height="437" alt="image" src="https://github.com/user-attachments/assets/ff12e1ac-9114-4439-a258-c8a10809722b" />

Ensimmäisellä haulla löytyi class ja development.log, joten koitan edellisten tehtävien tapaan laittaa ne edellä olevan polun perään.

<img width="383" height="133" alt="image" src="https://github.com/user-attachments/assets/a4895a7e-fc25-4acf-8495-93dac86a5ead" />

Tehtävä ilmeisesti onnistui. 

d) Content Discovery With Recursion

- Tehtävänä on löytää polku /admin/users/96
  
<img width="769" height="693" alt="image" src="https://github.com/user-attachments/assets/b22c6d08-cbb6-44df-adb4-e7be8b81d297" />

Fuzzaus tuotti tiedostopolun, jonka sitten kirjoitin jälleen polun jatkeeksi.

e) Content Discovery With File Extensions

- Tehtävänä löytää logs/users.log

Tässä tehtävässä laitettiin komento `-e`, joka määrittää oikean log-tiedoston.

<img width="762" height="488" alt="image" src="https://github.com/user-attachments/assets/f89293df-c982-4c89-84be-881a9112edac" />

Jälleen perään fuzzauksella löytynyt users.log ja tehtävä suoritettu.

f) No 404 Status

- Tässä tehtävässä käytettiin suodatusta, kuten aikasemminkin dirfutz-tehtävissä tehtiin. Kaikki tiedostot näyttivät olevan kokoa 669. Suodatin siis pois kaikki 669 kokoa ovat tiedostot:

<img width="754" height="494" alt="image" src="https://github.com/user-attachments/assets/9f75f54f-d8e3-4588-9b73-e70f6675b38f" />

g) Param Mining

Seuraavaksi tehtävänä oli etsiä puuttuva parametri. 

<img width="755" height="410" alt="image" src="https://github.com/user-attachments/assets/c20ff1bb-3bad-4cc4-ab14-221329cb09f3" />

Fuzzauksella löytyi `debug`, joka oli se puuttuva parametri.

Hetken aikaa kikkailtuani löysin paikan, johon `debug` meni ja sain tehtävän suoritettua.

h) Rate Limited

- Joissain palveluissa on rajallinen määrä pyyntöjä, joita voi lähettää. Sen seurauksena voi saada "bännit" joksikin aikaa.

- Tehtävänä on kiertää bännit rajoittamalla ja hidastamalla pyyntöjen määrää.

- Ensimmäisenä kokeilin hakea kuvassa näkyvällä komennolla. Tuloksissa näkyvä response status 429 tarkoittaa, että olen "bännissä"

<img width="753" height="393" alt="image" src="https://github.com/user-attachments/assets/37b3af52-ac38-421a-ab7b-04684b5f0f6b" />

Seuraavaksi kokeilin uudella haulla, haussa oleva `-p` laittaa 0.1 sekunnin paussin joka pyynnön väliin, `-t` lähettää maksimissaan 50 pyyntöä sekunnissa.

<img width="765" height="403" alt="image" src="https://github.com/user-attachments/assets/754268cf-2799-4485-be6a-10c4017f8caa" />


- Näytti silti erroria, vaikka muokkasin komentoa. Hetken pohdinnan jälkeen ymmärsin, että esimerkin url on väärä, sen pitäisi olla http://localhost, eikä http://ffuf.test

- Joten muokkasin url:län kuntoon ja sitten näytti lupaavalta:

<img width="748" height="428" alt="image" src="https://github.com/user-attachments/assets/cd5f9484-951c-47ff-970b-616ef7b80776" />

Laitoin sitten `oraclen` polun perään.

<img width="285" height="63" alt="image" src="https://github.com/user-attachments/assets/70c125e3-46b7-4149-b29c-afbb49303980" />

i) Subdomains - Virtual Host Enumeration

- Fuzzauksella voidaan löytää eri subdomaineja käyttäen virtual hostia ja muuttamalla host headerin.

<img width="783" height="650" alt="image" src="https://github.com/user-attachments/assets/3ec4b9ed-815a-4fa4-8455-f3f5eff4a55b" />

Ensimmäisellä haulla tuli tuloksia paljon. Suodatetaan pois tiedostot, jotka ovat kokoa 1495:

<img width="768" height="442" alt="image" src="https://github.com/user-attachments/assets/b233e95f-cc52-437a-ae5a-3d8f1317362f" />

Ja sieltä löytyi subdomain, jonka nimi on redhat.





## Lähteet:
https://terokarvinen.com/2023/fuzz-urls-find-hidden-directories/
