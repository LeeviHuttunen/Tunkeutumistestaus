# h7 Maalisuoralla

## x)



## a) Lippuvalmistelu. Valmistele kone ensi viikon lipunryöstöön. Tästä kohdasta ei tarvita kattavaa raporttia, riittää pelkkä luettelo siitä, miten ratkaisit allaolevat kysymykset. Jos sinulla on esimerkiksi valmis, toimiva Kali VM tavallisella PC:llä, tässä ei tarvitse tehdä juuri mitään.

- Käytän lipunryöstössä samaa virtuaalikonetta, jota olen käyttänyt tämän kurssin aikaisemmissakin tehtävissä. Kyseessä siis Kali-Linux virtuaalkone, joka on kytketty verkkoon nat-adapterilla. Nettiyhteyden saa tarvittaessa pois.


## b) HTB Dancing. Ratkaise HackTheBox.com: Starting Point: Tier 0: Dancing.

- Aloitin luomalla käyttäjän Hackthebox.comiin. Jonka jälkeen loin Vpn-yhteyden:

<img width="411" height="556" alt="image" src="https://github.com/user-attachments/assets/fe363bca-a49f-4cc2-91e4-5921da13d6dc" />

Pienen kikkailun jälkeen löysin oikean komennon, jolla sain Vpn-yhteyden:

<img width="846" height="412" alt="image" src="https://github.com/user-attachments/assets/ee7b1bb0-c61d-4d49-9e2f-b9cdc9f59249" />

<img width="448" height="561" alt="image" src="https://github.com/user-attachments/assets/46b409a1-3f7b-4b96-a31c-2e8f1dcac2da" />

- Ja sitten tehtävien pariin: 

1. Server message block

<img width="659" height="207" alt="image" src="https://github.com/user-attachments/assets/e7e0df70-ba24-44b1-a870-8dc12766e1e7" />

2. Portti 445

<img width="628" height="205" alt="image" src="https://github.com/user-attachments/assets/db0f6a41-c10a-49fe-9c4c-144551a51419" />

3. Tässä skannasin portin 445 komennolla `sudo nmap -p 445 10.129.83.255`:

<img width="567" height="197" alt="image" src="https://github.com/user-attachments/assets/74166b52-3f4a-419e-9643-99487342342a" />

4. Listaus

<img width="599" height="225" alt="image" src="https://github.com/user-attachments/assets/17460b8b-4fe4-43fa-aa04-5b74827ac325" />


5.  Komennolla `smbclient -L`, perään ping löytyi vastaus:

<img width="762" height="228" alt="image" src="https://github.com/user-attachments/assets/8d776654-25d3-4085-9efe-ad64b3f2b05d" />

<img width="359" height="196" alt="image" src="https://github.com/user-attachments/assets/c0bc14cc-8dc9-4d71-87fb-fe019fd090be" />

6. Päättelin vastauksen olevan Workshares, koska se oli ainoa, jossa ei ollut dollarinkuvaa perässä:

<img width="456" height="165" alt="image" src="https://github.com/user-attachments/assets/5e82fe93-64f1-4a45-83c0-01303a43fa25" />

<img width="615" height="217" alt="image" src="https://github.com/user-attachments/assets/315bf735-477e-4233-b38c-9fba12deb3ca" />

7. Komento `get` on aika kätevä :D

<img width="627" height="212" alt="image" src="https://github.com/user-attachments/assets/778bbe9d-358a-44c9-be3b-696d3d9c5642" />

8. Tähän kohtaan jouduin katsomaan sitten apua, koska en tiennyt, kuinka päästä hyökättävälle koneelle. Tällä komennolla pääsin koneelle sisään:

<img width="391" height="44" alt="image" src="https://github.com/user-attachments/assets/3761fc11-7df7-4a86-a304-852c105e3291" />

Sieltä löytyi Amyn ja Jamesin käyttäjät. Lähdin tutkimaan niitä.

<img width="616" height="345" alt="image" src="https://github.com/user-attachments/assets/2cd30d4b-4eb9-49d6-8802-3a1a9605194b" />

Sieltä löytyi kummankin käyttäjältä tekstitiedosto, jonka sitten latasin `get` komennolla. `cat`- komennolla sitten katsoin mitä siellä oli, flag.txt oli oikea.

<img width="379" height="156" alt="image" src="https://github.com/user-attachments/assets/31b6da15-96f7-429e-abe8-19bf82bd0c1e" />


<img width="700" height="629" alt="image" src="https://github.com/user-attachments/assets/6c24f3bb-e36f-4bbd-8983-133b2e32a323" />


## c) HTB Responder. Ratkaise HackTheBox.com: Starting Point: Tier 1: Responder.

1. Laittamalla Target ip:n url-kenttään, löytyi vastaus:

<img width="659" height="439" alt="image" src="https://github.com/user-attachments/assets/9e1411f0-8d27-4a66-a8f1-44c4f17f0fbf" />

2. Nettisivu ei auennut, joten katsoin ohjeista, että ip-osoite pitää lisätä etc/hosts -kansioon, jotta nettisivu tulee näkyviin:

<img width="508" height="85" alt="image" src="https://github.com/user-attachments/assets/19c0b7d5-10bc-474a-9afa-2f49f24b9a9c" />

Hetken aikaa testailtuani sivua, ilmestyi php url-kenttään, joka oli sitten oikein.

<img width="572" height="287" alt="image" src="https://github.com/user-attachments/assets/b45e494a-3192-4aab-9d75-77dd40044d20" />

<img width="617" height="241" alt="image" src="https://github.com/user-attachments/assets/fc2de973-6cb7-4848-b0f5-ba240790f50b" />

3. Vastaus löytyi nopeasti:

<img width="604" height="221" alt="image" src="https://github.com/user-attachments/assets/4c8c28df-267f-4475-9e54-a69486a5aa9a" />

4. Laitoin kysymyksessä olevat parametrit url-lenttään `page=` perään:

<img width="654" height="295" alt="image" src="https://github.com/user-attachments/assets/2af87460-cd85-411b-821f-54a7206bba13" />

5. Kokeilin taas pagen perään eri parametrejä, mitkä annettiin kysymyksessä ja hetken kuluttua tärppäsi:

<img width="663" height="298" alt="image" src="https://github.com/user-attachments/assets/4c1e2e97-24c7-417b-976c-7cbd1c986d07" />

6. Vastauksen kaivoin netistä:

<img width="678" height="185" alt="image" src="https://github.com/user-attachments/assets/77b6e435-4492-4d82-9054-42d9929228dc" />

7. Vinkkinä oli että komennolla ´responder --help´ löytyisi vastaus:

<img width="615" height="68" alt="image" src="https://github.com/user-attachments/assets/8fb10243-ae74-43bd-ae68-ccb0d14e68f4" />

<img width="672" height="254" alt="image" src="https://github.com/user-attachments/assets/5ea580d6-1286-4f44-a7ba-2e330a753c5e" />

8. John the ripperiä on käytetty aikaisemmin tällä kurssilla:

<img width="700" height="298" alt="image" src="https://github.com/user-attachments/assets/b6262884-1536-4cc0-9e53-1e8cd6fd9dda" />

9. Käytin ensin komentoa, jolla saatiin responder auki:

<img width="461" height="530" alt="image" src="https://github.com/user-attachments/assets/066261bf-14f9-439f-98d7-b6662efa1e82" />

Seuraavaksi laitoin url:n perään oman koneeni pingin ja sieltä aikaisemmassa tehtävässä käytetyn flag.txt:n.

<img width="428" height="72" alt="image" src="https://github.com/user-attachments/assets/2e2f4832-4a96-45f3-babb-379ba2a025ca" />

Tällä haavoittuvuudella saadaan yhteys kohteeseen. Ja terminaaliin oli tässä välissä ilmestyntyt hash:

<img width="1245" height="169" alt="image" src="https://github.com/user-attachments/assets/92e7e0c4-6f23-4efd-b542-9c10fb323e62" />

Kopioin hashin ja tallensin sen virtuaalikoneelle:

<img width="1237" height="215" alt="image" src="https://github.com/user-attachments/assets/a27383e0-f277-4812-914b-fd3324922bb3" />

Jostain syystä en saanut salasanaa näkyviin, vaikka tunnin yritin. Tein ohjeiden mukaan ja viimeksi John kyllä toimi. Jos joku osaisi kertoa, mikä vikana niin olisi hienoa. 

<img width="898" height="376" alt="image" src="https://github.com/user-attachments/assets/8567db9e-bc89-43db-b54f-18ba1d01c4d2" />

<img width="309" height="88" alt="image" src="https://github.com/user-attachments/assets/fadd718c-ed27-4110-8964-be2329a711e9" />

Noh, vastaus on kuitenkin Badminton, jotta päästään joskus loppuunkin.


10.

<img width="731" height="268" alt="image" src="https://github.com/user-attachments/assets/b7fc2126-799b-4ac3-a40b-2c66281d5b77" />


11. Jouduin katsomaan neuvoja.

Otettiin shellillä yhteys, kun tiedettiin käyttäjätunnus ja salasana, jonka jälkeen menin käyttäjän Mike tiedostoihin.

<img width="921" height="511" alt="image" src="https://github.com/user-attachments/assets/be5e01b0-07d2-4669-8180-72545af4feba" />

Sieltä löytyi flag.txt:

<img width="552" height="70" alt="image" src="https://github.com/user-attachments/assets/aee53c6f-7622-4a24-bf7b-a4008c8a1b21" />

<img width="649" height="383" alt="image" src="https://github.com/user-attachments/assets/86054040-c8ab-49f8-8ade-94cd9b853a1b" />







